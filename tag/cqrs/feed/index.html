<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	
	xmlns:georss="http://www.georss.org/georss"
	xmlns:geo="http://www.w3.org/2003/01/geo/wgs84_pos#"
	>

<channel>
	<title>cqrs &#8211; Unidash</title>
	<atom:link href="http://OFFLINEZIP.wpshotag/cqrs/feed/" rel="self" type="application/rss+xml" />
	<link>https://OFFLINEZIP.wpsho</link>
	<description>brought to you by Foodies Inc.</description>
	<lastBuildDate>Mon, 11 May 2020 16:32:26 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>https://wordpress.org/?v=5.4.2</generator>

<image>
	<url>http://OFFLINEZIP.wpshowp-content/uploads/2020/06/cropped-logo_ud_glyph-1-32x32.png</url>
	<title>cqrs &#8211; Unidash</title>
	<link>https://OFFLINEZIP.wpsho</link>
	<width>32</width>
	<height>32</height>
</image> 
<site xmlns="com-wordpress:feed-additions:1">167596888</site>	<item>
		<title>Foody&#8217;s Architecture</title>
		<link>http://OFFLINEZIP.wpsho2019/12/01/foodys-architecture/</link>
					<comments>http://OFFLINEZIP.wpsho2019/12/01/foodys-architecture/#comments</comments>
		
		<dc:creator><![CDATA[ginomessmer]]></dc:creator>
		<pubDate>Sun, 01 Dec 2019 20:03:18 +0000</pubDate>
				<category><![CDATA[Semester 3]]></category>
		<category><![CDATA[Unidash]]></category>
		<category><![CDATA[architecture]]></category>
		<category><![CDATA[asp.net]]></category>
		<category><![CDATA[backend]]></category>
		<category><![CDATA[cqrs]]></category>
		<category><![CDATA[ddd]]></category>
		<category><![CDATA[dotnet]]></category>
		<category><![CDATA[frontend]]></category>
		<category><![CDATA[mvvm]]></category>
		<category><![CDATA[testing]]></category>
		<guid isPermaLink="false">https://blog.foodies.ginomessmer.me/?p=378</guid>

					<description><![CDATA[Until the last sprint, we set the rails for our microservices&#8217; architecture. For all the ASP.NET Core backends we make use of Domain Driven Development. Without going too much into details, here is a basic gist of our architecture: Domain models are persisted and may consist of a root aggregate, value objects (immutable child of [&#8230;]]]></description>
										<content:encoded><![CDATA[
<p>Until the last sprint, we set the rails for our microservices&#8217; architecture. For all the ASP.NET Core backends we make use of Domain Driven Development. Without going too much into details, here is a basic gist of our architecture:</p>



<ul><li>Domain models are persisted and may consist of a root aggregate, value objects (immutable child of root aggregates) and a repository interface. Actual repository implementations are added by Dependency Injection.</li><li><a href="https://martinfowler.com/bliki/CQRS.html">CQRS</a> &#8211; Command Query Responsibility Segregation. Commands fire away data, queries retrieve data. Neither one can do both at the same time. It makes use of the Mediator Pattern.</li><li>Mapping. We use AutoMapper to map from Data Transfer Objects to Commands over to Domain Models, and vice-versa.</li></ul>



<h2>Something along the lines MVC</h2>



<p>Our setup is an abstraction of MVC. We have Models (our domain models), we have Views (JSON) and we have Controllers. Our controller has a lot more stuff behind it. This code map should serve as an overview:</p>



<figure class="wp-block-image alignwide size-full"><img data-attachment-id="365" data-permalink="http://OFFLINEZIP.wpshomvc_auth/" data-orig-file="http://OFFLINEZIP.wpshowp-content/uploads/2019/11/MVC_Auth-scaled.png" data-orig-size="2560,1113" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="MVC_Auth" data-image-description="" data-medium-file="http://OFFLINEZIP.wpshowp-content/uploads/2019/11/MVC_Auth-300x130.png" data-large-file="http://OFFLINEZIP.wpshowp-content/uploads/2019/11/MVC_Auth-1024x445.png" src="https://blog.foodies.ginomessmer.me/wp-content/uploads/2019/11/MVC_Auth-scaled.png" alt="" class="wp-image-365" srcset="http://OFFLINEZIP.wpshowp-content/uploads/2019/11/MVC_Auth-scaled.png 2560w, http://OFFLINEZIP.wpshowp-content/uploads/2019/11/MVC_Auth-300x130.png 300w, http://OFFLINEZIP.wpshowp-content/uploads/2019/11/MVC_Auth-1024x445.png 1024w, http://OFFLINEZIP.wpshowp-content/uploads/2019/11/MVC_Auth-768x334.png 768w, http://OFFLINEZIP.wpshowp-content/uploads/2019/11/MVC_Auth-1536x668.png 1536w, http://OFFLINEZIP.wpshowp-content/uploads/2019/11/MVC_Auth-2048x890.png 2048w, http://OFFLINEZIP.wpshowp-content/uploads/2019/11/MVC_Auth-1200x522.png 1200w, http://OFFLINEZIP.wpshowp-content/uploads/2019/11/MVC_Auth-1980x860.png 1980w" sizes="(max-width: 2560px) 100vw, 2560px" /><figcaption>A quick overview of the MVC architecture behind the backends</figcaption></figure>



<h4>A quick TL;DR:</h4>



<p>ASP.NET Core controllers may contain multiple routes (such as <code>/auth/connect/</code> and <code>/auth/finalize/</code>). These routes fire a command through a mediator that fetches the associated handler. A command is a POCO (Plain Old C# Class) with read-only properties only.</p>



<p>The mediator looks for the associated command handler that matches the command and executes it. After execution, it returns the result back to the controller and from there back to the view as JSON.</p>



<p>If you&#8217;re a nerd like us and you&#8217;re curious, take a look at one of the <a href="https://dev.azure.com/foodies-inc/_git/foody?path=%2FFoodies.Foody.Auth.Application%2FControllers%2FAuthenticationController.cs&amp;version=GBdev&amp;line=41&amp;lineEnd=42&amp;lineStartColumn=1&amp;lineEndColumn=1&amp;lineStyle=plain">controllers</a>, <a href="https://dev.azure.com/foodies-inc/_git/foody?path=%2FFoodies.Foody.Auth%2FUsers%2FCommands%2FCreateUserCommand.cs&amp;_a=content">commands</a>, <a href="https://dev.azure.com/foodies-inc/_git/foody?path=%2FFoodies.Foody.Auth%2FUsers%2FCommands%2FCreateUserCommandHandler.cs&amp;_a=content">command handlers</a> and  <a href="https://dev.azure.com/foodies-inc/_git/foody?path=%2FFoodies.Foody.Auth%2FUsers%2FRequests%2FRegisterUserRequestHandler.cs&amp;version=GBdev&amp;_a=content">requests handlers</a> (requests consolidate commands and queries for the controller methods).</p>



<h4>Tell me why?</h4>



<p>This setup makes it fairly easy to separate concerns and maintain business logic without destroying other parts of our code. It also helps to reduce redundancy and improves portability.</p>



<h2 id="tdd">Test Driven Development for Backend</h2>



<p>I really wanted to try out TDD for the backend projects. Since we would like to include automated tests where applicable, it made sense to create tests for business-oriented classes and test them right away.</p>



<p>.NET Core offers several test environments. One of the popular ones is xUnit. Without going too <em>deep</em> &#8211; if you want to read more about TDD, I recommend you to check out <a href="https://dev.to/adegokesimi/build-a-tdd-restful-webapi-for-a-blog-using-dotnet-core-5fo8">this article</a> for more details. The great part of automated testing is that we can easily integrate it with Azure DevOps <a href="https://dev.azure.com/foodies-inc/foody/_build/results?buildId=32&amp;view=ms.vss-test-web.build-test-results-tab">as part of our CI pipeline</a>:</p>



<div data-carousel-extra='{"blog_id":1,"permalink":"https:\/\/PLACEHOLDER.wpsho\/2019\/12\/01\/foodys-architecture\/"}' class="wp-block-jetpack-tiled-gallery alignwide is-style-rectangular"><div data-carousel-extra='{"blog_id":1,"permalink":"https:\/\/PLACEHOLDER.wpsho\/2019\/12\/01\/foodys-architecture\/"}' class="tiled-gallery__gallery"><div data-carousel-extra='{"blog_id":1,"permalink":"https:\/\/PLACEHOLDER.wpsho\/2019\/12\/01\/foodys-architecture\/"}' class="tiled-gallery__row"><div data-carousel-extra='{"blog_id":1,"permalink":"https:\/\/PLACEHOLDER.wpsho\/2019\/12\/01\/foodys-architecture\/"}' class="tiled-gallery__col"><figure class="tiled-gallery__item"><img data-attachment-id="382" data-permalink="http://OFFLINEZIP.wpsho2019/12/01/foodys-architecture/unittests/" data-orig-file="http://OFFLINEZIP.wpshowp-content/uploads/2019/11/UnitTests.jpg" data-orig-size="2234,1376" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="UnitTests" data-image-description="" data-medium-file="http://OFFLINEZIP.wpshowp-content/uploads/2019/11/UnitTests-300x185.jpg" data-large-file="http://OFFLINEZIP.wpshowp-content/uploads/2019/11/UnitTests-1024x631.jpg" data-attachment-id="382" data-permalink="http://OFFLINEZIP.wpsho2019/12/01/foodys-architecture/unittests/" data-orig-file="http://OFFLINEZIP.wpshowp-content/uploads/2019/11/UnitTests.jpg" data-orig-size="2234,1376" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="UnitTests" data-image-description="" data-medium-file="http://OFFLINEZIP.wpshowp-content/uploads/2019/11/UnitTests-300x185.jpg" data-large-file="http://OFFLINEZIP.wpshowp-content/uploads/2019/11/UnitTests-1024x631.jpg" srcset="https://i0.wp.com/blog.foodies.ginomessmer.me/wp-content/uploads/2019/11/UnitTests.jpg?strip=info&#038;w=600&#038;ssl=1 600w,https://i0.wp.com/blog.foodies.ginomessmer.me/wp-content/uploads/2019/11/UnitTests.jpg?strip=info&#038;w=900&#038;ssl=1 900w,https://i0.wp.com/blog.foodies.ginomessmer.me/wp-content/uploads/2019/11/UnitTests.jpg?strip=info&#038;w=1200&#038;ssl=1 1200w,https://i0.wp.com/blog.foodies.ginomessmer.me/wp-content/uploads/2019/11/UnitTests.jpg?strip=info&#038;w=1376&#038;ssl=1 1376w" alt="" data-height="1376" data-id="382" data-link="https://blog.foodies.ginomessmer.me/?attachment_id=382" data-url="https://blog.foodies.ginomessmer.me/wp-content/uploads/2019/11/UnitTests.jpg" data-width="2234" src="https://i0.wp.com/blog.foodies.ginomessmer.me/wp-content/uploads/2019/11/UnitTests.jpg?ssl=1"/></figure></div><div data-carousel-extra='{"blog_id":1,"permalink":"https:\/\/PLACEHOLDER.wpsho\/2019\/12\/01\/foodys-architecture\/"}' class="tiled-gallery__col"><figure class="tiled-gallery__item"><img data-attachment-id="384" data-permalink="http://OFFLINEZIP.wpsho2019/12/01/foodys-architecture/vs_tests/" data-orig-file="http://OFFLINEZIP.wpshowp-content/uploads/2019/11/vs_tests.jpg" data-orig-size="2442,1338" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="vs_tests" data-image-description="" data-medium-file="http://OFFLINEZIP.wpshowp-content/uploads/2019/11/vs_tests-300x164.jpg" data-large-file="http://OFFLINEZIP.wpshowp-content/uploads/2019/11/vs_tests-1024x561.jpg" data-attachment-id="384" data-permalink="http://OFFLINEZIP.wpsho2019/12/01/foodys-architecture/vs_tests/" data-orig-file="http://OFFLINEZIP.wpshowp-content/uploads/2019/11/vs_tests.jpg" data-orig-size="2442,1338" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="vs_tests" data-image-description="" data-medium-file="http://OFFLINEZIP.wpshowp-content/uploads/2019/11/vs_tests-300x164.jpg" data-large-file="http://OFFLINEZIP.wpshowp-content/uploads/2019/11/vs_tests-1024x561.jpg" srcset="https://i2.wp.com/blog.foodies.ginomessmer.me/wp-content/uploads/2019/11/vs_tests.jpg?strip=info&#038;w=600&#038;ssl=1 600w,https://i2.wp.com/blog.foodies.ginomessmer.me/wp-content/uploads/2019/11/vs_tests.jpg?strip=info&#038;w=900&#038;ssl=1 900w,https://i2.wp.com/blog.foodies.ginomessmer.me/wp-content/uploads/2019/11/vs_tests.jpg?strip=info&#038;w=1200&#038;ssl=1 1200w,https://i2.wp.com/blog.foodies.ginomessmer.me/wp-content/uploads/2019/11/vs_tests.jpg?strip=info&#038;w=1338&#038;ssl=1 1338w" alt="" data-height="1338" data-id="384" data-link="https://blog.foodies.ginomessmer.me/?attachment_id=384" data-url="https://blog.foodies.ginomessmer.me/wp-content/uploads/2019/11/vs_tests.jpg" data-width="2442" src="https://i2.wp.com/blog.foodies.ginomessmer.me/wp-content/uploads/2019/11/vs_tests.jpg?ssl=1"/></figure></div></div></div></div>



<p>xUnit allows us to test multiple implementations for interfaces. For example, when we implemented the database repository interface, we implemented the in-memory class first, tested it, and then implemented it as MongoDB implementation, and associated some integration tests to it. It works like a charm.</p>



<h2>Frontend Story Time</h2>



<p>Isabell and Imke have worked on the client app. Both of them looked further into Angular and Ionic, and successfully connected the canteen pages to the backend.</p>



<p>In addition to that, they&#8217;ve tried out several layouts for the start and betting pages. Here&#8217;s a screenshot of the non-final static bets page on both Android and iOS:</p>



<figure class="wp-block-image size-large"><img data-attachment-id="396" data-permalink="http://OFFLINEZIP.wpsho2019/12/01/foodys-architecture/localhost_8200_/" data-orig-file="http://OFFLINEZIP.wpshowp-content/uploads/2019/12/localhost_8200_.png" data-orig-size="2280,2160" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="localhost_8200_" data-image-description="" data-medium-file="http://OFFLINEZIP.wpshowp-content/uploads/2019/12/localhost_8200_-300x284.png" data-large-file="http://OFFLINEZIP.wpshowp-content/uploads/2019/12/localhost_8200_-1024x970.png" src="https://blog.foodies.ginomessmer.me/wp-content/uploads/2019/12/localhost_8200_-1024x970.png" alt="" class="wp-image-396" srcset="http://OFFLINEZIP.wpshowp-content/uploads/2019/12/localhost_8200_-1024x970.png 1024w, http://OFFLINEZIP.wpshowp-content/uploads/2019/12/localhost_8200_-300x284.png 300w, http://OFFLINEZIP.wpshowp-content/uploads/2019/12/localhost_8200_-768x728.png 768w, http://OFFLINEZIP.wpshowp-content/uploads/2019/12/localhost_8200_-1536x1455.png 1536w, http://OFFLINEZIP.wpshowp-content/uploads/2019/12/localhost_8200_-2048x1940.png 2048w, http://OFFLINEZIP.wpshowp-content/uploads/2019/12/localhost_8200_-1200x1137.png 1200w, http://OFFLINEZIP.wpshowp-content/uploads/2019/12/localhost_8200_-1980x1876.png 1980w" sizes="(max-width: 1024px) 100vw, 1024px" /></figure>



<p>This should hopefully cover this week&#8217;s post. If you have further questions or comments, please let us know in the comments.</p>



<p>Cheers,<br>Gino</p>
]]></content:encoded>
					
					<wfw:commentRss>http://OFFLINEZIP.wpsho2019/12/01/foodys-architecture/feed/</wfw:commentRss>
			<slash:comments>3</slash:comments>
		
		
		<post-id xmlns="com-wordpress:feed-additions:1">378</post-id>	</item>
	</channel>
</rss>
